

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		
		<title>JsDoc Reference - SC.imageCache</title>

		<style type="text/css">
			
/* @group Core */

body.sc-doc {
  background-color: white  ;
  padding: 20px;
}

.sc-doc {
	font-family: "Lucida Sans", "Lucida Grande", Verdana, Arial, sans-serif;
	font-size: 10px;
	line-height: 1;
}

/* Set standard size on some things. */
.sc-doc p, 
.sc-doc dd, 
.sc-doc dt, 
.sc-doc li, 
.sc-doc table {
	font-size: 12px;
	line-height: 1.4;
}

hr
{
  color: #888;
}

.sc-doc h1 {
  font-size: 3em;
  margin: 0 0 1em 0;
  text-transform: capitalize;
}

.sc-doc h2 {
  padding: 0;
  padding-bottom: 3px;
  border-bottom: 1px #aaa solid;
  text-transform: capitalize;
  margin: 2em 0 0.5em;
  font-size: 2.2em;
}

.sc-doc h3 {
  font-size: 1.5em;
  padding: 0;
  margin: 1em 0 0 0;  
}

.sc-doc h4 {
  font-weight: normal ;
  font-size: 1.4em;
  margin: 0.5em 0 0 0;
  padding: 0;
}

.sc-doc h5 {
  font-size: 1.3em;
  padding: 0;
  margin: 1.3em 0 0.5em 0;
}

.sc-doc p { margin: 1.5em 0; }
 
.sc-doc a {
  text-decoration: none ;
}

.sc-doc label {
  font-weight: bold ;
}

.sc-doc .sc-theme .ghost {
  -moz-user-select: none;
  -khtml-user-select: none;
  user-select: none;
  opacity: 0.45;
  -moz-opacity: .45 ;
}

.sc-doc dt {
  font-style: italic;
  line-height: 2;
}

.sc-doc dd {
 margin: 0 1em 1em 1em;
}

/* @end */

/* @group Summary Table */

.sc-doc table.summary {
  min-width: 600px;
  border: 1px #999 solid;
  border-bottom: none ;
  border-spacing: 0;
  margin-bottom: 2em;
}

.sc-doc table.summary td {
  border-bottom: 1px #999 solid;
  border-collapse: collapse;
  padding: 0.5em;
  text-align: left ;
}

.sc-doc table.summary .even td {
  background-color: #eef;
}

.sc-doc table.summary td.label {
  font-weight: bold ;
  width: 100px;
  text-align: right ;
  padding-right: 4px;
}

.sc-doc table.summary td.value {
  min-width: 300px;
  width: 300px;
}

/* @end */

/* @group Field & Method Summary */

.sc-doc .summary li {
  list-style-type: none ;
  position: relative;
}

.sc-doc .summary li code {
  font-size: 1em;
}

.sc-doc .summary li .description {
  display: none ;
}

.sc-doc .summary li:hover .description {
  display: block ;
  font-size: 1em;
  position: absolute ;
  left: 80px;
  bottom: 2em;
  padding: 0.3em 1em ;
  background-color: #fff898;
  border: 1px solid #bbae2f;
  -webkit-box-shadow: rgba(0,0,0,0.3) 0px 2px 5px;
  color: #4b4000;
  z-index: 100;
}

/* @end */

/* @group Detail */

.sc-doc .detail p.signature {
  padding: 0;
  margin: 1em 0;
  font-family: Courier, mono;
}

.sc-doc .detail p.signature .type, .sc-doc .detail p.parameter .type {
  font-style: italic;
}

.sc-doc .detail p.signature .name, .sc-doc .detail p.parameter .name {
  font-weight: bold ;
  padding-left: 5px;
}

.sc-doc .detail p.parameter .desc, .sc-doc .detail p.signature .params  {
  font-style: italic ;
  color: #555;
  padding-left: 5px;
}

/* @end */

.sc-doc .jsdoc_ctime {
  border-top: 1px #ccc solid ;
  padding: 4px 0;
  margin-top: 20px;
  margin-bottom: 0px;
  font-size: 1.0em;
  text-align: center ;
  color: #888 ;
}

/* @group Description */

.sc-doc .description blockquote,
.sc-doc .description blockquote,
.sc-doc .description p.code {
  padding:  10px ;
  margin: 10px 20px;
  background-color: #f5f5f5 ;
  border: 1px #ccc solid ;
}

/* @end */

span.sc-label  
{
  text-overflow:ellipsis;
  white-space:nowrap;
  overflow: hidden;
  width: 50px;
}

/* @group Index */

#index {
	padding-bottom: 2em;
}

#index > div {
	clear: both;
	position:  relative;
	font-size: 12px;
	padding: 10px;
	padding-left: 220px;
	min-height: 14px;	
	border-bottom: 1px #ddd solid;
}

#index hr {
	display: none;
}

#index h2 {
	font-size: 14px;
	border: none;
	position: absolute;
	left: 0;
	top: 50%;
	height: 14px;
	margin: 0;
	margin-top: -7px;
	width: 200px;
	text-align: right;
}

#index h2 a {
	padding: 2px;
}

#index h2 a:hover {
	background-color: blue;
	color: white;
}

/* @end */


		</style>
	</head>

	<body class="sc-doc">
		
		<div id="content">

		  <h1>
		    
		    Class SC.imageCache
		  </h1>

		  <table class="summary">
		  

		  

		  
		    <tr class="even">
		      <td class="label">Extends:</td>
		      <td class="value">
		        <a href="../symbols/SC.Object.html#constructor">SC.Object</a>
		      </td>
		    </tr>
		  

		  
		    <tr class="odd">
		      <td class="label">Defined in:</td>
		      <td class="value"><a href="../symbols/src/frameworks_foundation_system_image_cache.js.html">frameworks/sproutcore/frameworks/foundation/system/image_cache.js</a></td>
		    </tr>
		  

		  
		    <tr class="even">
		      <td class="label">Availability:</td>
		      <td class="value">
		        since SproutCore 1.0
		      </td>
		    </tr>
		  

		  
		
		  

		  

		  </table>

		  
			<h2>
				Overview
			</h2>   
			<div class="description">
		      <p>The image cache can be used to control the order of loading images into the browser cache.</p>

<p>Images queues are necessary because browsers impose strict limits on the number of concurrent connections that can be open at any one time to any one host. By controlling the order and timing of your loads using this image queue, you can improve the percieved performance of your application by ensuring the images you need most load first.</p>

<p>Note that if you use the SC.ImageView class, it will use this image cache for you automatically.</p>

<h1> Loading Images</h1>

<p>When you need to display an image, simply call the loadImage() method with the URL of the image, along with a target/method callback. The signature of your callback should be:</p>


<p class="code"><code>imageDidLoad: function(imageUrl, imageOrError) {<br />//...<br />}</code></p>

<p>The "imageOrError" parameter will contain either an image object or an error object if the image could not be loaded for some reason.  If you receive an error object, it will be one of SC.IMAGE_ABORTED_ERROR or SC.IMAGE_FAILED_ERROR.</p>

<p>You can also optionally specify that the image should be loaded in the background.  Background images are loaded with a lower priority than foreground images.</p>

<h1> Aborting Image Loads</h1>

<p>If you request an image load but then no longer require the image for some reason, you should notify the imageCache by calling the releaseImage() method.  Pass the URL, target and method that you included in your original loadImage() request.</p>

<p>If you have requested an image before, you should always call releaseImage() when you are finished with it, even if the image has already loaded.  This will allow the imageCache to properly manage its own internal resources.</p>

<p>This method may remove the image from the queue of images that need or load or it may abort an image load in progress to make room for other images.  If the image is already loaded, this method will have no effect.</p>

<h1> Reloading an Image</h1>

<p>If you have already loaded an image, the imageCache will avoid loading the image again.  However, if you need to force the imageCache to reload the image for some reason, you can do so by calling reloadImage(), passing the URL.</p>

<p>This will cause the image cache to attempt to load the image again the next time you call loadImage on it.</p>
		    </div>
		  
		
<!-- ============================== properties summary ===================== -->
			
			    
				
			    
				
				

					    
					      <div class="field-summary summary">
					        <h2>Property Summary</h2>
					        <ul>
					        
					          
					            <li>
					              <a href="../symbols/SC.imageCache.html#activeRequests"><code>-&nbsp;(Object) activeRequests [R/W]</code></a>
					              
					                <div class="description">The number of currently active requests on the cache.</div>
					              
					            </li>
					          
					        
					          
					            <li>
					              <a href="../symbols/SC.imageCache.html#loadLimit"><code>-&nbsp;(Object) loadLimit [R/W]</code></a>
					              
					                <div class="description">The maximum number of images that can load from a single hostname at any
    one time.</div>
					              
					            </li>
					          
					        
					        </ul>
					      </div>
					    

						


			  
			    <dl class="inheritsList">
			    <dt>Properties borrowed from class <a href="../symbols/SC.Object.html#constructor">SC.Object</a>: </dt><dd><a href="../symbols/SC.Object.html#concatenatedProperties">concatenatedProperties</a>, <a href="../symbols/SC.Object.html#.isClass">isClass</a>, <a href="../symbols/SC.Object.html#isDestroyed">isDestroyed</a>, <a href="../symbols/SC.Object.html#isObject">isObject</a>, <a href="../symbols/SC.Object.html#.subclasses">subclasses</a></dd>
			    </dl>
			  

			

		  
		    

				    
				      <div class="method-summary summary">
				        <h2>Method Summary</h2>
				        <ul>
				          
				            <li>
				              <a href="#SC.imageCache#loadImage">
		<code class="type">-&nbsp;(SC.imageCache)  loadImage(url, target, method, isBackgroundFlag)</code>
				              </a>
				              
				                <div class="description">Loads an image from the server, calling your target/method when complete.</div>
				              
				            </li>
				          
				            <li>
				              <a href="#SC.imageCache#loadNextImage">
		<code class="type">-&nbsp;(void)  loadNextImage()</code>
				              </a>
				              
				                <div class="description">Initiates a load of the next image in the image queue.</div>
				              
				            </li>
				          
				            <li>
				              <a href="#SC.imageCache#releaseImage">
		<code class="type">-&nbsp;(SC.imageCache)  releaseImage(url, target, method)</code>
				              </a>
				              
				                <div class="description">Invoke this method when you are finished with an image URL.</div>
				              
				            </li>
				          
				            <li>
				              <a href="#SC.imageCache#reloadImage">
		<code class="type">-&nbsp;(void)  reloadImage(url)</code>
				              </a>
				              
				                <div class="description">Forces the image to reload the next time you try to load it.</div>
				              
				            </li>
				          
				        </ul>
				      </div>
				    

					
			

		    
		      <dl class="inheritsList">
		      <dt>Methods borrowed from class <a href="../symbols/SC.Object.html#constructor">SC.Object</a>: </dt><dd><a href="../symbols/SC.Object.html#awake">awake</a>, <a href="../symbols/SC.Object.html#.create">create</a>, <a href="../symbols/SC.Object.html#.design">design</a>, <a href="../symbols/SC.Object.html#destroy">destroy</a>, <a href="../symbols/SC.Object.html#.extend">extend</a>, <a href="../symbols/SC.Object.html#.hasSubclass">hasSubclass</a>, <a href="../symbols/SC.Object.html#init">init</a>, <a href="../symbols/SC.Object.html#instanceOf">instanceOf</a>, <a href="../symbols/SC.Object.html#invokeLast">invokeLast</a>, <a href="../symbols/SC.Object.html#invokeLater">invokeLater</a>, <a href="../symbols/SC.Object.html#invokeOnce">invokeOnce</a>, <a href="../symbols/SC.Object.html#invokeWith">invokeWith</a>, <a href="../symbols/SC.Object.html#.kindOf">kindOf</a>, <a href="../symbols/SC.Object.html#.mixin">mixin</a>, <a href="../symbols/SC.Object.html#respondsTo">respondsTo</a>, <a href="../symbols/SC.Object.html#.subclassOf">subclassOf</a>, <a href="../symbols/SC.Object.html#superclass">superclass</a>, <a href="../symbols/SC.Object.html#tryToPerform">tryToPerform</a></dd>
		      </dl>
		    
		  
		
		<!-- ============================== field details ========================== -->    
		  
		    <div class="field-detail detail">
		      <a name="field_detail"><h2>Property Details</h2></a> 
		      
		        
		          <!-- One single method detail entry -->
		          <div class="field">
		            <a name="activeRequests"></a> 
			          <div class="field">
			            <a name="activeRequests"></a> 
			            <h3>activeRequests

							
						
							[R/W]
							

					</h3>
		            <p class="summary">The number of currently active requests on the cache.</p>

		            

		            <p class="signature">
		              
		              -
		              &nbsp;
		              <span class="type">
		                
		                Object
		              </span>
		              <span class="name">activeRequests</span>
		            </p>

			          

			          

					


		            
		          </div>
					<hr/>
		        
		      
		        
		          <!-- One single method detail entry -->
		          <div class="field">
		            <a name="loadLimit"></a> 
			          <div class="field">
			            <a name="loadLimit"></a> 
			            <h3>loadLimit

							
						
							[R/W]
							

					</h3>
		            <p class="summary">The maximum number of images that can load from a single hostname at any
    one time.</p>

		            

		            <p class="signature">
		              
		              -
		              &nbsp;
		              <span class="type">
		                
		                Object
		              </span>
		              <span class="name">loadLimit</span>
		            </p>

			          

			          

					<h5>Discussion</h5><div class="description"><p>For most browsers 4 is a reasonable number, though you may tweak this on a browser-by-browser basis.</p></div>


		            
		          </div>
					<hr/>
		        
		      
		    </div>
		  
		
<!-- ============================== method details ========================= -->		
			
				<h2>
					Method Detail
				</h2>
				
			        <div class="method detail">
			          <a name="SC.imageCache#loadImage"></a> 
			          <h3>loadImage()
				
				
							
				
				</h3>
			          <p class="summary">Loads an image from the server, calling your target/method when complete.</p>

			          

			            <p class="signature">
			              
			              -
			              &nbsp;
			              <span class="type">
			                
			                (SC.imageCache)
			              </span>
			              <span class="name">loadImage</span> <span class="params">(url, target, method, isBackgroundFlag)</span>
			            </p>


			          <!-- METHOD PARAMETERS START -->
			          
			            <h5>Parameters</h5>
			            
			            
			              <p class="parameter">
								<span class="type">(String)</span><span class="name">url</span>
			              
						</p>
			            
			            
			            
			              <p class="parameter">
								<span class="type">(Object)</span><span class="name">target</span>
			              
						</p>
			            
			            
			            
			              <p class="parameter">
								<span class="type">(String|Function)</span><span class="name">method</span>
			              
						</p>
			            
			            
			            
			              <p class="parameter">
								<span class="type">(Boolean)</span><span class="name">isBackgroundFlag</span>
			              
						</p>
			            
			            
			           
			          <!-- METHOD PARAMETERS END -->

			          <!-- ADDITIONAL ATTRIBUTES START -->
			          
			            <h5>Returns</h5>
			            
			              <p class="parameter">
			                <span class="type">(SC.imageCache)</span>
			                <span class="desc">receiver</span> 
			              </p>
			            
			          

			          

			          
			          <!-- ADDITIONAL ATTRIBUTES  END -->

					<h5>Discussion</h5><div class="description">

<p>You should always pass at least a URL and optionally a target/method.  If you do not pass the target/method, the image will be loaded in background priority.  Usually, however, you will want to pass a callback to be notified when the image has loaded.  Your callback should have a signature like:</p>


<p class="code"><code>imageDidLoad: function(imageUrl, imageOrError) { .. }</code></p>

<p>If you do pass a target/method you can optionally also choose to load the image either in the foreground or in the background.  The image cache prioritizes foreground images over background images.  This does not impact how many images load at one time.</p></div>

			          
			        </div>
					<hr/>
				
			        <div class="method detail">
			          <a name="SC.imageCache#loadNextImage"></a> 
			          <h3>loadNextImage()
				
				
							
				
				</h3>
			          <p class="summary">Initiates a load of the next image in the image queue.</p>

			          

			            <p class="signature">
			              
			              -
			              &nbsp;
			              <span class="type">
			                
			                (void)
			              </span>
			              <span class="name">loadNextImage</span> <span class="params">()</span>
			            </p>


			          <!-- METHOD PARAMETERS START -->
			           
			          <!-- METHOD PARAMETERS END -->

			          <!-- ADDITIONAL ATTRIBUTES START -->
			          

			          

			          
			          <!-- ADDITIONAL ATTRIBUTES  END -->

					<h5>Discussion</h5><div class="description"><p>Normally you will not need to call this method yourself as it will be initiated automatically when the queue becomes active.</p></div>

			          
			        </div>
					<hr/>
				
			        <div class="method detail">
			          <a name="SC.imageCache#releaseImage"></a> 
			          <h3>releaseImage()
				
				
							
				
				</h3>
			          <p class="summary">Invoke this method when you are finished with an image URL.</p>

			          

			            <p class="signature">
			              
			              -
			              &nbsp;
			              <span class="type">
			                
			                (SC.imageCache)
			              </span>
			              <span class="name">releaseImage</span> <span class="params">(url, target, method)</span>
			            </p>


			          <!-- METHOD PARAMETERS START -->
			          
			            <h5>Parameters</h5>
			            
			            
			              <p class="parameter">
								<span class="type">(String)</span><span class="name">url</span>
			              
						</p>
			            
			            
			            
			              <p class="parameter">
								<span class="type">(Object)</span><span class="name">target</span>
			              
						</p>
			            
			            
			            
			              <p class="parameter">
								<span class="type">(String|Function)</span><span class="name">method</span>
			              
						</p>
			            
			            
			           
			          <!-- METHOD PARAMETERS END -->

			          <!-- ADDITIONAL ATTRIBUTES START -->
			          
			            <h5>Returns</h5>
			            
			              <p class="parameter">
			                <span class="type">(SC.imageCache)</span>
			                <span class="desc">receiver</span> 
			              </p>
			            
			          

			          

			          
			          <!-- ADDITIONAL ATTRIBUTES  END -->

					<h5>Discussion</h5><div class="description"><p>If you passed a target/method, you should also pass it here to remove it from the list of callbacks.</p></div>

			          
			        </div>
					<hr/>
				
			        <div class="method detail">
			          <a name="SC.imageCache#reloadImage"></a> 
			          <h3>reloadImage()
				
				
							
				
				</h3>
			          <p class="summary">Forces the image to reload the next time you try to load it.</p>

			          

			            <p class="signature">
			              
			              -
			              &nbsp;
			              <span class="type">
			                
			                (void)
			              </span>
			              <span class="name">reloadImage</span> <span class="params">(url)</span>
			            </p>


			          <!-- METHOD PARAMETERS START -->
			           
			          <!-- METHOD PARAMETERS END -->

			          <!-- ADDITIONAL ATTRIBUTES START -->
			          

			          

			          
			          <!-- ADDITIONAL ATTRIBUTES  END -->

					

			          
			        </div>
					<hr/>
				
			
		</div>
		
<!-- ============================== footer ================================= -->
		<div class="fineprint" style="clear:both">
			
			Documentation generated by <a href="http://www.jsdoctoolkit.org/" target="_blank">JsDoc Toolkit</a> 2.0.2 on Thu Aug 05 2010 06:41:28 GMT-0700 (PDT)
		</div>
	</body>
</html>
